--- hosts/hostkreskowkazone.py	2019-05-29 13:33:43.253878999 +0200
+++ enigma2-pc/e2iplayerGITsSources/forks/e2iplayer-Mosz_Nowy/IPTVPlayer/hosts/hostkreskowkazone.py	2019-03-16 08:09:07.969696001 +0100
@@ -52,7 +52,7 @@
         self.AJAX_HEADER = dict(self.HEADER)
         self.AJAX_HEADER.update( {'X-Requested-With': 'XMLHttpRequest'} )
         
-        self.MAIN_URL = 'https://www.kreskowkazone.pl/'
+        self.MAIN_URL = 'http://www.kreskowkazone.pl/'
         self.DEFAULT_ICON_URL = self.MAIN_URL + 'images/sprites.png'
         
         self.MAIN_TAB = [{'category':'main',              'title': 'Główna',       'url':self.MAIN_URL,                   'icon':self.DEFAULT_ICON_URL},
@@ -62,7 +62,7 @@
                          {'category':'search',            'title': _('Search'), 'search_item':True,         'icon':self.DEFAULT_ICON_URL},
                          {'category':'search_history',    'title': _('Search history'),                     'icon':self.DEFAULT_ICON_URL}]
                              
-        self.CARTOONS_CAT_TAB = [{'category':'list_abc',    'title': 'Lista kreskówek',       'url':self.MAIN_URL+'lista_kreskowek-0'},
+        self.CARTOONS_CAT_TAB = [{'category':'list_abc',    'title': 'Lista kreskówek',       'url':self.MAIN_URL+'lista_anime-0'},
                                  {'category':'list_abc',    'title': 'Lista filmów',          'url':self.MAIN_URL+'lista_filmow-0'},
                                  {'category':'list_items',  'title': 'Wychodzące kreskówki',  'url':self.MAIN_URL+'wychodzace'},
                                  {'category':'list_items',  'title': 'Wychodzące seriale',    'url':self.MAIN_URL+'wychodzace-seriale'},
@@ -213,7 +213,7 @@
                     
         if not self.cm.isValidUrl(videoUrl):
             for retry in [True, False]:
-                url = self.getFullUrl('odcinki_ajax')
+                url = self.getFullUrl('odcinki_emb')
                 params = dict(self.defaultParams)
                 params['header'] = dict(self.AJAX_HEADER)
                 params['header']['Referer'] = originUrl
@@ -224,9 +224,8 @@
                 printDBG('+++++++++++++++++++++++++++++++++++++++++++++++')
                 tmp = self.getFullUrl(self.cm.ph.getSearchGroups(data, '''<iframe[^>]+?src=['"]([^"^']+?)['"]''', 1, True)[0])
                 if tmp == '': tmp = self.getFullUrl(self.cm.ph.getSearchGroups(data, '''<embed[^>]+?src=['"]([^"^']+?)['"]''', 1, True)[0])
-                if tmp == '': tmp = self.cm.ph.getSearchGroups(data, '''<a[^>]+?href="([^>\s]+?)"[>\s]''')[0]
                 if tmp == '': tmp = self.cleanHtmlStr(data)
-                if not self.cm.isValidUrl(tmp) and 1 <> self.up.checkHostSupport(tmp) and retry:
+                if not self.cm.isValidUrl(tmp) and retry:
                     sts, tmp = self.cm.getPage(self.getFullUrl('images/statystyki.gif'), self.defaultParams)
                 else:
                     videoUrl = tmp
@@ -411,3 +410,4 @@
                                     possibleTypesOfSearch = possibleTypesOfSearch,
                                     isGoodForFavourites = isGoodForFavourites)
     # end converItem
+
